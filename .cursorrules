# VSSI Project Rules (System Memory)

You are an expert AI developer working on the VSSI project. You MUST strictly adhere to the following rules and design standards.

## 1. CSS & Design System
*   **Hybrid Approach**: Use Tailwind CSS for layout + `style.css` for components.
*   **Authentication Cards**: ALWAYS use `.glass-card-auth` for login/register cards.
*   **Auth Footer**: ALWAYS use `.auth-footer` for the help section.
*   **Auth Layout**:
    *   Use `.auth-body` + `.app-bg` on `<body>`.
    *   Use `.auth-page-center` for centered pages (Login).
    *   Use `.auth-page-scroll` + inner `.auth-scroll-view` for scrolling pages (Register).
*   **Branding & Cards**:
    *   **NEVER** use `w-[...]` or `max-w-[...]` for Login/Register cards. Use `.auth-card-container` (add `.auth-card-wide` for wider cards).
    *   **NEVER** use `text-[#...]`, `bg-[#...]`, or standard Tailwind color classes (e.g., `text-emerald-500`) for status indicators (Success, Warning, Error, Info). Use semantic classes:
        - Text: `.text-success`, `.text-warning`, `.text-error`, `.text-info`, `.text-purple`.
        - Background Alpha: `.bg-success-alpha`, `.bg-warning-alpha`, etc.
        - Status Card Decorations: `.status-card-deco.success`, etc.
    *   **ALWAYS** use `.dashboard-body` for main app screen bodies.
    *   **ALWAYS** use `.filter-input` and `.filter-select` for search/filter fields (ensure no border-radius).
    *   **ALWAYS** use `.form-error` for input validation messages.
    *   **NEVER** use inline styles or complex Tailwind chains for the VSSI Logo. Use `.brand-container` and children.
*   **Form Components**:
    *   Input: `.form-input` (Toggle `.error` class for validation, do NOT use border-red-500 manually). **NO ROUNDED CORNERS (border-radius: 0)**.
    *   Label: `.form-label` (Asterisk in `<span>`).
    *   Button: `.btn-primary` (Teal), `.btn-secondary` (Dark). **NO ROUNDED CORNERS**.
    *   Error Text: `.form-error`.
    *   Checkbox: `.form-checkbox`.
*   **Dashboard Components**:
    *   Layout: `.dashboard-body`.
    *   Filters: `.filter-input`, `.filter-select`, `.filter-btn-search`, `.filter-btn-reset`. **NO ROUNDED CORNERS**.
    *   Search Panel: `.search-panel`, `.search-panel-header`, `.search-panel-content`.
    *   Cards: `.status-card`.
      - Pagination: `.table-footer`, `.pagination-info`, `.pagination-controls`, `.page-btn` (toggle `.active`), `.pagination-select`, `.pagination-icon`.
    *   **System Switcher**: `.system-switcher-overlay`, `.system-switcher-dialog`, `.system-switcher-header`, `.switcher-dot`, `.switcher-item-content`, `.switcher-acronym`, `.switcher-badge`.
      - **Sidebar**: `.sidebar-container`, `.sidebar-nav-btn` (toggle `.active`), `.sidebar-sub-btn`.
    *   **Header**: `.header-bar`, `.header-left`, `.header-right`, `.header-group`, `.header-divider-text`, `.header-icon-btn`, `.header-profile-btn`, `.header-datetime`.
    *   **Global Layout**:
        - Use `.dashboard-body` on `<body>`.
        - Use `.dashboard-main-flex` for the container below the header (flex-1 overflow-hidden).
        - Use `.dashboard-main` for the content area.
        - Use `.dashboard-content` + `.custom-scrollbar` for the scrollable area.
        - **NEW Full Height Standard**: Use `.dashboard-content-full` on `.dashboard-content` and `.dashboard-container-full` on `.dashboard-container`.
        - **NEW Scrolling Table Standard**: Use `.table-main-wrapper` to encapsulate `.table-scroll-area` and `.table-footer`. This ensures a unified border and no gaps. Column headers (`th`) MUST use `sticky` positioning to remain visible during scroll.
        - **NEW Mobile Layout Standard**: 
            - **Fixed Navigation**: ALWAYS use `position: fixed` for `.header-bar` and `.sidebar-container` on mobile to ensure persistence.
            - **Natural Scrolling**: Main body containers (`.dashboard-body`, `.app-screen-height`, etc.) MUST allow natural vertical scrolling on mobile (`height: auto`, `overflow: visible`). Add `padding-top` to the body to account for the fixed header.
        - Use `.dashboard-container` for centered max-width content padding.

## 2. Component Standards
*   **Status Cards**: `.status-card`, `.status-card-header`, `.status-card-title`, `.status-card-icon`, `.status-card-value`, `.status-card-state`, `.status-card-deco`.
    - **Ultra-Compact (Mobile)**: Use `padding: 2px 10px`, left-aligned icon-first headers, and micro-fonts (`10px` for values).
*   **Search/Filter**:
    - Panel: `.search-panel`, `.search-panel-header`, `.search-panel-title-group`, `.search-panel-title`, `.filter-chevron`, `.search-panel-content`, `.filter-panel-inner`.
    - Controls: `.filter-grid` (Max 7 items per row on screens >= 1200px), `.filter-label`, `.filter-input`, `.filter-select`, `.filter-input-flex`, `.filter-date-range`, `.filter-date-separator`.
    - Buttons: `.filter-actions`, `.filter-btn-common`, `.filter-btn-search`, `.filter-btn-reset`.
*   **Tables & Pagination**:
    - Table: `.table-main-wrapper`, `.table-scroll-area`, `.table-container`, `.data-table`, `.data-table-body`, `.data-table-row`.
    - Cell Alignment & Types:
        - `.td-center`: Centered text, slate-500, font-size 12px.
        - `.td-number`: Right-aligned, JetBrains Mono font.
        - `.td-date`: Centered, slate-500, JetBrains Mono, font-size 12px.
    - Cell Status & Formatting:
        - Use semantic text colors: `.text-success`, `.text-warning`, `.text-error`, `.text-info`, etc.
        - Use badges for status: `.badge` + `.badge-success`, `.badge-error`, `.badge-warning`, `.badge-info`, `.badge-purple`.
    - Pagination: `.table-footer`, `.pagination-info`, `.pagination-controls`, `.page-btn` (toggle `.active`), `.pagination-select`, `.pagination-select-margin`, `.pagination-icon`.

## 3. General Rules
*   **NEVER** use inline Tailwind classes for width, height, spacing, or colors in standardized components.
*   **ALWAYS** use the semantic classes listed above to ensure project-wide consistency.
*   **Icons**: Use Lucide icons. For component-specific icons, use `.status-card-icon`, `.trend-icon`, or `.pagination-icon`.
*   **Modules**: Always use `js/include.js` for dynamic loading of `header.html` and `sidebar.html`.
*   **Shared Logic**: Use `js/common.js` for:
    *   Date/Time updates (`updateTime`).
    *   Sidebar toggling.
    *   Icon initialization (`lucide.createIcons`).
*   **Defensive Coding**: ALWAYS check `if (element)` before manipulating DOM to avoid null errors on partial loads.

## 3. HTML Structure
*   **Icons**: Use Lucide icons (`<i data-lucide="...">`). Initialize with `lucide.createIcons()`.
*   **Modals**:
    *   Structure: Use `.modal-overlay` > `.modal-dialog` structure.
    *   **Position**: MUST be a direct child of `<body>`. NEVER place inside `.auth-scroll-view` or other containers.
    *   **Classes**: Use `.modal-icon`, `.modal-title`, `.modal-desc`, `.modal-btn-group`.
    *   **Colors**:
        *   **Warning/Error**: YELLOW (`text-yellow-500`, `bg-yellow-600/80`). **NO RED MODALS**.
        *   **Success**: TEAL (`text-teal-400`, `bg-teal-600/80`).
        *   **Confirm**: BLUE (`text-blue-400`, `bg-blue-600/80`).

## 4. File Locations
*   Pages: `c:/project/vssi/screens/`
*   Components: `c:/project/vssi/components/`
*   Styles: `c:/project/vssi/css/style.css`
*   Scripts: `c:/project/vssi/js/`

## 5. Deployment
*   Commit prefix: "Refactor:", "Feat:", "Fix:".

## 6. CRITICAL CSS RULES (MUST READ - VIOLATION PROHIBITED)

1.  **NO DUPLICATES**: Before adding ANY new class to `style.css`, you **MUST** search the ENTIRE file to see if it exists.
    *   *Example*: Do not add `.search-panel-header` if it already exists. Remove duplicates immediately if found.
2.  **REUSE EXISTING CLASSES**: Use project-standard classes whenever possible. Do not create new classes if a similar one exists.
    *   *Examples*: Use `.modal-section-title` for all modal titles. Use `.search-panel` for all search containers.
3.  **GENERIC SEMANTIC NAMING**: If you must create a new class, name it for **reusability**, not specific context.
    *   *Bad*: `.role-info-text`, `.assign-user-btn-group`
    *   *Good*: `.info-text` (white/bold), `.info-description` (dim/slate-500), `.info` (flex container)
4.  **NO INLINE UTILITY SOUP**: Do not rely on long strings of Tailwind/utility classes in HTML for common elements. Abstract them into a standard semantic class in `style.css`.
    *   *Bad*: `<span class="text-white font-bold ml-2 text-sm">`
    *   *Good*: `<span class="info-text">`
5.  **LAYOUT ABSTRACTION**: Use generic layout classes for grouping.
    *   *Example*: Use `.info` (flex gap-2 items-center) for grouping text/labels. Do NOT use button-specific classes like `.action-btn-group` for text layout.
6.  **CHECK WHITE-SPACE**: When checking layout issues (spacing), always verify if `white-space: pre-line` is causing unwanted indentation rendering. Use margin utilities (`.mb-standard`) instead of container padding if content is text-heavy.
