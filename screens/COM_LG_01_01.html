<!DOCTYPE html>
<html lang="ko" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VSSI - Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../css/style.css">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* All styles moved to style.css */
    </style>
</head>

<body class="auth-body auth-page-scroll app-bg scrollbar-hide">
    <div class="auth-scroll-view">

        <!-- Upper Logo Section -->
        <div class="brand-container">
            <h1 class="brand-text">VSSI</h1>
            <p class="brand-sub">Vertiport Standards and Safety Infrastructure</p>
            <p class="brand-desc">K-UAM 상용화를 위한 버티포트 표준 및 통합운용 플랫폼</p>
        </div>

        <!-- Login Card -->
        <div class="glass-card-auth auth-card-container">

            <!-- Login Form Section -->
            <div class="auth-card-body">
                <div class="auth-card-header">
                    <h2 class="auth-card-title">로그인</h2>
                </div>

                <div class="spacing-y-6">
                    <div>
                        <label class="form-label">아이디</label>
                        <input type="text" id="id" placeholder="아이디를 입력해 주세요." class="form-input"
                            oninput="resetError('id')">
                        <div id="error-id" class="form-error"></div>
                    </div>

                    <div>
                        <label class="form-label">비밀번호</label>
                        <input type="password" id="pw" placeholder="비밀번호를 입력해 주세요." class="form-input"
                            oninput="resetError('pw')" onkeydown="if(event.key === 'Enter') handleLogin()">
                        <div id="error-pw" class="form-error hidden"></div>
                    </div>

                    <button onclick="handleLogin()" class="btn-primary">
                        로그인
                    </button>
                </div>

                <div class="auth-actions">
                    <a href="./COM_LG_02_01.html" class="auth-link-primary">서비스 이용 신청</a>
                    <a href="#" class="auth-link-secondary">비밀번호 초기화</a>
                </div>
            </div>

            <div class="auth-footer">
                <div class="auth-help-container">
                    <div class="auth-help-icon-wrapper">
                        <i data-lucide="help-circle"></i>
                    </div>
                    <div>
                        <h3 class="auth-help-title">이용에 도움이 필요하신가요?</h3>
                        <p class="auth-help-desc">
                            로그인 문제나 권한 관련 문의는 버티포트 통합 관리 시스템 관리자에게 연락해 주세요.
                        </p>
                    </div>
                </div>
                <div class="auth-cs-row">
                    <span class="auth-cs-label">CS CENTER</span>
                    <span class="auth-cs-number">000-0000-0000</span>
                </div>
            </div>

        </div>
    </div>

    <!-- Background Elements -->
    <div class="auth-bg-decoration">
        <div class="auth-bg-blob-blue"></div>
        <div class="auth-bg-blob-teal"></div>
    </div>




    <!-- Modal Component (Warning) - Commented out as per request -->
    <!-- 
    <div id="modal-backdrop" class="modal-overlay">
        <div class="modal-dialog">
            <div class="modal-icon warning">
                <i data-lucide="alert-triangle" width="64" height="64"></i>
            </div>

            <h3 id="modal-title" class="modal-title">로그인 실패</h3>
            <p id="modal-desc" class="modal-desc"></p>

            <div class="modal-btn-group">
                <button onclick="closeModal()" class="btn-modal-warning">확인</button>
            </div>
        </div>
    </div>
    -->

    <script>
        lucide.createIcons();

        let failCount = 0;

        function resetError(id) {
            const input = document.getElementById(id);
            const errorDiv = document.getElementById('error-' + id);

            // Reset border (using class)
            input.classList.remove('error');

            // Hide error text
            errorDiv.innerText = '';
            errorDiv.classList.add('hidden');
        }

        function setError(id, msg) {
            const input = document.getElementById(id);
            const errorDiv = document.getElementById('error-' + id);

            // Set border red
            input.classList.add('error');

            // Show error text
            errorDiv.innerText = msg;
            errorDiv.classList.remove('hidden');
        }

        function showModal(title, msg) {
            // Modal is commented out
            /*
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-desc').innerText = msg;
            document.getElementById('modal-backdrop').classList.add('active');
            */
            alert(title + ": " + msg);
        }

        function closeModal() {
            // Modal is commented out
            // document.getElementById('modal-backdrop').classList.remove('active');
        }

        function handleLogin() {
            const id = document.getElementById('id').value.trim();
            const pw = document.getElementById('pw').value.trim();
            let hasError = false;

            if (!id) {
                setError('id', '아이디를 입력해 주세요.');
                hasError = true;
            }
            if (!pw) {
                setError('pw', '비밀번호를 입력해 주세요.');
                hasError = true;
            }

            if (hasError) return;

            // Redirect to Intro Page for any non-empty input as per request
            window.location.href = 'COM_IT_01_01.html';
        }
    </script>
</body>

</html>